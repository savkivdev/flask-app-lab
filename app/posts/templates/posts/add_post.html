{% extends 'base.html' %}

{% block content %}
<h2>Add New Post</h2>
<form method="POST" action="" novalidate>
    {{ form.hidden_tag() }}
    {% from 'macros/form_macros.html' import render_field %}
    {{ render_field(form.title) }}
    {{ render_field(form.content) }}
    {{ render_field(form.publish_date) }}
    {{ render_field(form.category) }}
    {{ render_field(form.author_id) }}
    <div class="form-group form-check">
        {{ form.is_active(class="form-check-input") }}
        {{ form.is_active.label(class="form-check-label") }}
    </div>

    <div class="form-group">
        {{ form.tags.label }}
        <select name="{{ form.tags.name }}" multiple="multiple" class="form-control">
            {% for subfield in form.tags %}
                <option value="{{ subfield.data }}" {% if subfield.checked %}selected{% endif %}>{{ subfield.label.text }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <button type="submit" class="btn btn-primary">{{ form.submit.label }}</button>
    </div>
</form>

{% endblock %}
